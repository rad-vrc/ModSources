using Terraria;
using Terraria.ModLoader;

namespace TranslateTest2
{
    public class PrefixGlobalItem : GlobalItem
    {
        public float MinionSlotMult = 1f;
        public float MinionSpeedMult = 1f;
        public float MinionScaleMult = 1f;
        public float MinionKnockbackMult = 1f;
        public float MinionLifeSteal = 0f;
        public float MinionCritAdd = 0f;
        public float WhipRangeMult = 1f;
        public bool CanGiveTag = false;
        public WhipTag wTag = null;
        public bool electrified = false;

        public override bool InstancePerEntity => true;

        public override GlobalItem Clone(Item from, Item to)
        {
            PrefixGlobalItem myClone = (PrefixGlobalItem)base.Clone(from, to);
            myClone.wTag = wTag?.Clone();
            return myClone;
        }

        public override void SetStaticDefaults()
        {
            // Initialize default whip tag if needed
        }

        public override void PostUpdate(Item item)
        {
            // Initialize whip tag if it's null and this item can give tags
            if (CanGiveTag && wTag == null)
            {
                wTag = new WhipTag("default", 0);
            }
        }
    }
}